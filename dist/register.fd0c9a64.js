var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},s=e.parcelRequire0a97;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in t){var s=t[e];delete t[e];var i={id:e,exports:{}};return a[e]=i,s.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){t[e]=a},e.parcelRequire0a97=s);var i=s("6QD2Y"),n=s("1tHc5"),r=(n=s("1tHc5"),s("etBjH"));var o=s("ba58U");const l=document.getElementById("login"),d=document.getElementById("signupBtn"),c=document.getElementById("signup"),u=document.getElementById("loginBtn");let m=[];l.addEventListener("submit",(e=>{e.preventDefault();const a=l.email.value,t=l.password.value;!async function(e,a,t){try{const{user:s}=await n.signInWithEmailAndPassword(e,a,t);alert(`Welcome, usuario ${s.email}`)}catch(e){alert("Invalid email or password")}}(i.auth,a,t)})),d.addEventListener("click",(e=>{l.classList.add("login--hide"),d.classList.add("registration__registration--hide"),c.classList.add("signup--show"),u.classList.remove("registration__registration--hide")})),c.addEventListener("submit",(async e=>{e.preventDefault();const a={name:c.name.value,lastname:c.lastname.value,cell:c.cell.value,email:c.email.value,password:c.password.value,isAdmin:!1},t=await async function(e,{email:a,password:t}){try{const{user:s}=await n.createUserWithEmailAndPassword(e,a,t);return s}catch(e){"auth/weak-password"===e.code&&alert("Your password must have more than 6 characters"),"auth/email-already-in-use"===e.code&&alert("The email is already in use")}}(i.auth,a);await async function(e,a,t={}){try{await r.setDoc(r.doc(e,"users",a),t)}catch(e){console.log(e)}}(i.db,t.uid,a),alert("Welcome back!")})),u.addEventListener("click",(e=>{c.classList.remove("signup--show"),u.classList.add("registration__registration--hide"),l.classList.remove("login--hide"),d.classList.remove("registration__registration--hide")})),n.onAuthStateChanged(i.auth,(async e=>{e&&(m=function(){const e=localStorage.getItem("bag");return e?JSON.parse(e):[]}(),await o.createFirebaseBag(i.db,e.uid,m),window.location.href="./index.html")}));
//# sourceMappingURL=register.fd0c9a64.js.map
