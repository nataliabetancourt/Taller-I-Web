var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequire0a97;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},e.parcelRequire0a97=a);var o=a("6QD2Y"),i=a("1tHc5"),c=a("ba58U");function r(e){return new Intl.NumberFormat("en-UK",{style:"currency",currency:"EUR",minimumFractionDigits:0}).format(e)}const l=document.getElementById("bagSection"),s=document.getElementById("totalSection"),d=document.getElementById("checkoutBtn");let u,g=[];function f(e){let n=0;e.forEach((e=>{!function(e){const n=document.createElement("li");n.className="bag__container",n.innerHTML=`\n        <img src="${e.images[0]}" alt="" class="bag__image">\n        <div class="bag__infosection">\n            <h3 class="bag__name">${e.name}</h3>\n            <p class="bag__info">${e.color.name.toUpperCase()}</p>\n            <p class="bag__info">${r(e.price)}</p>\n            <button class="bag__btn" id="delete">x</button>\n            <p class="bag__info">Quantity: ${e.counter}</p>\n        </div>`,l.appendChild(n),n.addEventListener("click",(n=>{console.log(n.target.id),"delete"===n.target.id&&(console.log("go"),async function(e){const n=g.filter((n=>n.id!==e));g=n,u&&await c.createFirebaseBag(o.db,u.uid,n);(async function(e){localStorage.setItem("bag",JSON.stringify(e))})(n),l.innerHTML="",f(n)}(e.id))}))}(e),n+=parseInt(e.price)*e.counter})),s.innerText=r(n)}d.addEventListener("click",(e=>{e.preventDefault(),null==u?alert("Login to continue to checkout"):window.location.href="./checkout.html"})),i.onAuthStateChanged(o.auth,(async e=>{e?(u=e,g=await c.getFirebaseBag(o.db,u.uid)):g=function(){const e=localStorage.getItem("bag");return e?JSON.parse(e):[]}(),f(g)}));
//# sourceMappingURL=bag.4dde10b7.js.map
