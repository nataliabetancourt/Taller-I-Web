{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,yBCAAC,EAAAD,EAAA,sCDQA,MAAME,EAAYC,SAASC,eAAe,SACpCC,EAAYF,SAASC,eAAe,aAEpCE,EAAaH,SAASC,eAAe,UACrCG,EAAWJ,SAASC,eAAe,YAEzC,IAAII,EAAM,GAGVN,EAAUO,iBAAiB,UAAUC,IACnCA,EAAEC,iBAGF,MAAMC,EAAQV,EAAUU,MAAMC,MACxBC,EAAWZ,EAAUY,SAASD,OCnBtCE,eAAqBC,EAAMJ,EAAOE,GAC9B,IACI,MALRG,KAKeA,SAAchB,EAAAiB,2BAA2BF,EAAMJ,EAAOE,GAC7DK,MAAM,oBAAoBF,EAAKL,SACjC,MAAOF,GACLS,MAAM,8BDgBZC,CAAMrB,EAAAiB,KAAMJ,EAAOE,MAOrBT,EAAUI,iBAAiB,SAASC,IAElCR,EAAUmB,UAAUC,IAAI,eACxBjB,EAAUgB,UAAUC,IAAI,oCAGxBhB,EAAWe,UAAUC,IAAI,gBACzBf,EAASc,UAAUE,OAAO,uCAI5BjB,EAAWG,iBAAiB,UAAUM,MAAOL,IAC3CA,EAAEC,iBAGF,MAMMa,EAAW,MANJlB,EAAWmB,KAAKZ,eACZP,EAAWoB,SAASb,WACxBP,EAAWqB,KAAKd,YACfP,EAAWM,MAAMC,eACdP,EAAWQ,SAASD,MAQnCe,SAAS,GAILC,QClDRd,eAA0BC,GAZ1BJ,MAYiCA,EAZjCE,SAYwCA,IACpC,IACI,MAdRG,KAceA,SAAchB,EAAA6B,+BAA+Bd,EAAMJ,EAAOE,GACjE,OAAOG,EACT,MAAOP,GACU,uBAAXA,EAAEqB,MACFZ,MAAM,kDAGI,8BAAXT,EAAEqB,MACDZ,MAAM,gCDwCMa,CAAWjC,EAAAiB,KAAMQ,SCnCzCT,eAAiCkB,EAAIC,EAAQV,EAAW,IACpD,UACUW,EAAAC,OAAOD,EAAAE,IAAIJ,EAAI,QAASC,GAASV,GACzC,MAAOd,GACL4B,QAAQC,IAAI7B,IDiCZ8B,CAAkBzC,EAAAkC,GAAIJ,EAAQY,IAAKjB,GAEzCL,MAAM,oBAKRZ,EAASE,iBAAiB,SAASC,IAEjCJ,EAAWe,UAAUE,OAAO,gBAC5BhB,EAASc,UAAUC,IAAI,oCAGvBpB,EAAUmB,UAAUE,OAAO,eAC3BlB,EAAUgB,UAAUE,OAAO,uCAG7BtB,EAAAyC,mBAAmB3C,EAAAiB,MAAMD,MAAOE,IAC1BA,IAEFT,EEgCJ,WACI,MAAMmC,EAAQC,aAAaC,QAAQ,OACnC,OAAOF,EAAQG,KAAKC,MAAMJ,GAAS,GFlC7BK,SAEAC,EAAAC,kBAAkBnD,EAAAkC,GAAIhB,EAAKwB,IAAKjC,GAGtC2C,OAAOC,SAASC,KAAO","sources":["js/register.js","js/functions/auth.js","js/utils/index.js"],"sourcesContent":["import { db, auth} from \"./app\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { login, createUser, addUserToDatabase } from \"./functions/auth\";\r\nimport { getMyLocalBag } from \"./utils\";\r\nimport { createFirebaseBag, getFirebaseBag } from \"./functions/bag\";\r\n\r\n//Call HTML elements\r\n//Login form\r\nconst loginForm = document.getElementById(\"login\");\r\nconst signupBtn = document.getElementById(\"signupBtn\");\r\n//Sign up form\r\nconst signupForm = document.getElementById(\"signup\");\r\nconst loginBtn = document.getElementById(\"loginBtn\");\r\n\r\nlet bag = [];\r\n\r\n//Submit button on login form\r\nloginForm.addEventListener(\"submit\", e => {\r\n  e.preventDefault();\r\n\r\n  //Get information from inputs\r\n  const email = loginForm.email.value;\r\n  const password = loginForm.password.value;\r\n\r\n  login(auth, email, password);\r\n\r\n  //Send to home page\r\n  //window.location.href = \"../html/index.html\";\r\n});\r\n\r\n//Open sign up form\r\nsignupBtn.addEventListener(\"click\", e =>{\r\n  //Hide login form and button\r\n  loginForm.classList.add('login--hide');\r\n  signupBtn.classList.add('registration__registration--hide');\r\n\r\n  //Show sign up form and button\r\n  signupForm.classList.add('signup--show');\r\n  loginBtn.classList.remove('registration__registration--hide');\r\n})\r\n\r\n//Submit button on sign up form\r\nsignupForm.addEventListener(\"submit\", async (e) =>{\r\n  e.preventDefault();\r\n\r\n  //Information from inputs\r\n  const name = signupForm.name.value;\r\n  const lastname = signupForm.lastname.value;\r\n  const cell = signupForm.cell.value;\r\n  const email = signupForm.email.value;\r\n  const password = signupForm.password.value;\r\n\r\n  const userInfo = {\r\n    name,\r\n    lastname,\r\n    cell,\r\n    email, \r\n    password, \r\n    isAdmin: false\r\n  }\r\n\r\n  //Create user and add to authentication\r\n  const newUser = await createUser(auth, userInfo);\r\n  //Add additional user info to database\r\n  await addUserToDatabase(db, newUser.uid, userInfo);\r\n  \r\n  alert(\"Welcome back!\");\r\n\r\n})\r\n\r\n//Open login form\r\nloginBtn.addEventListener(\"click\", e =>{\r\n  //Hide sign up form and button\r\n  signupForm.classList.remove('signup--show');\r\n  loginBtn.classList.add('registration__registration--hide');\r\n\r\n  //Show login form and button\r\n  loginForm.classList.remove('login--hide');\r\n  signupBtn.classList.remove('registration__registration--hide');\r\n});\r\n\r\nonAuthStateChanged(auth, async (user) => {\r\n  if (user) {\r\n    //Get local storage bag\r\n    bag = getMyLocalBag();\r\n    //Add to firestore\r\n    await createFirebaseBag(db, user.uid, bag);\r\n\r\n    //Send to home page\r\n    window.location.href = \"./index.html\";\r\n  } \r\n});\r\n","import { signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged } from \"firebase/auth\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\n\r\nasync function login(auth, email, password) {\r\n    try {\r\n        const {user} = await signInWithEmailAndPassword(auth, email, password);\r\n        alert(`Welcome, usuario ${user.email}`);\r\n    } catch (e) {\r\n        alert(\"Invalid email or password\");\r\n    }\r\n}\r\n\r\nasync function createUser(auth, {email, password}) {\r\n    try {\r\n        const {user} = await createUserWithEmailAndPassword(auth, email, password);\r\n        return user;\r\n    } catch (e) {\r\n        if (e.code === \"auth/weak-password\") {\r\n            alert(\"Your password must have more than 6 characters\");\r\n        }\r\n\r\n        if(e.code === \"auth/email-already-in-use\") {\r\n            alert(\"The email is already in use\");\r\n        }\r\n    }\r\n}\r\n\r\nasync function addUserToDatabase(db, userId, userInfo = {}) {\r\n    try {\r\n        await setDoc(doc(db, \"users\", userId), userInfo)\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport {\r\n    login, \r\n    createUser, \r\n    addUserToDatabase\r\n}","//Colors from products and their categories\r\nconst colors = [\r\n    {\r\n        category: \"face\",\r\n        palette: [\r\n            {\r\n                name: \"None\",\r\n                hex: \"#ffffff\"\r\n            },\r\n            {\r\n                name: \"1 Cool\",\r\n                hex: \"#f4cfb5\"\r\n            },\r\n            {\r\n                name: \"4 Warm\",\r\n                hex: \"#ecbd8f\"\r\n            },\r\n            {\r\n                name: \"7 Neutral\",\r\n                hex: \"#cd9369\"\r\n            },\r\n            {\r\n                name: \"9 Cool\",\r\n                hex: \"#ca864f\"\r\n            },\r\n            {\r\n                name: \"12.5 Warm\",\r\n                hex: \"#ac6c40\"\r\n            },\r\n            {\r\n                name: \"15 Neutral\",\r\n                hex: \"#754626\"\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        category: \"cheek\",\r\n        palette: [\r\n            {\r\n                name: \"Romance light\",\r\n                hex: \"#c4867c\"\r\n            },\r\n            {\r\n                name: \"Medium bronze\",\r\n                hex: \"#ca906a\"\r\n            },\r\n            {\r\n                name: \"Tan bronze\",\r\n                hex: \"#bc7a51\"\r\n            },\r\n            {\r\n                name: \"Peachgasm\",\r\n                hex: \"#f58e7e\"\r\n            },\r\n            {\r\n                name: \"Pinkgasm\",\r\n                hex: \"#ed7d7e\"\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        category: \"eyes\",\r\n        palette: [\r\n            {\r\n                name: \"Super Black\",\r\n                hex: \"#090909\"\r\n            },\r\n            {\r\n                name: \"Pillow Talk\",\r\n                hex: \"#dd8d8a\"\r\n            },\r\n            {\r\n                name: \"Pillow Talk Dreams\",\r\n                hex: \"#82362b\"\r\n            },\r\n            {\r\n                name: \"The Sophisticate\",\r\n                hex: \"#ba8973\"\r\n            },\r\n            {\r\n                name: \"Copper Charge\",\r\n                hex: \"#c26f59\"\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        category: \"lips\",\r\n        palette: [\r\n            {\r\n                name: \"Scarlet Spell\",\r\n                hex: \"#8b2833\"\r\n            },\r\n            {\r\n                name: \"Pillow Talk\",\r\n                hex: \"#dc7b77\"\r\n            },\r\n            {\r\n                name: \"Lost Cherry\",\r\n                hex: \"#fd5d5f\"\r\n            },\r\n            {\r\n                name: \"Love Liberty\",\r\n                hex: \"#aa2937\"\r\n            },\r\n            {\r\n                name: \"Gold\",\r\n                hex: \"#dc7e53\"\r\n            }\r\n        ],\r\n    }\r\n];\r\n\r\nasync function addProductToBag(bag) {\r\n    localStorage.setItem(\"bag\", JSON.stringify(bag));\r\n};\r\n\r\nfunction getMyLocalBag() {\r\n    const myBag = localStorage.getItem(\"bag\");\r\n    return myBag ? JSON.parse(myBag) : [];\r\n}\r\n\r\nfunction deleteMyLocalBag() {\r\n    window.localStorage.removeItem('bag');\r\n}\r\n\r\nfunction currencyFormat(price) {\r\n    return new Intl.NumberFormat(\"en-UK\", {\r\n        style: 'currency',\r\n        currency: 'EUR',\r\n        minimumFractionDigits: 0\r\n    }).format(price);\r\n}\r\n\r\nexport {\r\n    addProductToBag, \r\n    getMyLocalBag,\r\n    deleteMyLocalBag,\r\n    currencyFormat,\r\n    colors\r\n}"],"names":["$6QD2Y","parcelRequire","$1tHc5","$6076bf52518b8931$var$loginForm","document","getElementById","$6076bf52518b8931$var$signupBtn","$6076bf52518b8931$var$signupForm","$6076bf52518b8931$var$loginBtn","$6076bf52518b8931$var$bag","addEventListener","e","preventDefault","email","value","password","async","auth","user","signInWithEmailAndPassword","alert","$450b40fc2c2a03b7$export$596d806903d1f59e","classList","add","remove","userInfo","name","lastname","cell","isAdmin","newUser","createUserWithEmailAndPassword","code","$450b40fc2c2a03b7$export$3493b8991d49f558","db","userId","$etBjH","setDoc","doc","console","log","$450b40fc2c2a03b7$export$9f9c8eae0fddfad1","uid","onAuthStateChanged","myBag","localStorage","getItem","JSON","parse","$d8be5cb91089582e$export$266cbb842c3b9a4d","$ba58U","createFirebaseBag","window","location","href"],"version":3,"file":"register.fd0c9a64.js.map"}