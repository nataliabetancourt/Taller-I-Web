var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequire0a97;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},e.parcelRequire0a97=o);var n=o("6QD2Y"),c=o("1tHc5"),r=o("ba58U"),s=o("5nbHs");const i=[{category:"face",palette:[{name:"None",hex:"#ffffff"},{name:"1 Cool",hex:"#f4cfb5"},{name:"4 Warm",hex:"#ecbd8f"},{name:"7 Neutral",hex:"#cd9369"},{name:"9 Cool",hex:"#ca864f"},{name:"12.5 Warm",hex:"#ac6c40"},{name:"15 Neutral",hex:"#754626"}]},{category:"cheek",palette:[{name:"Romance light",hex:"#c4867c"},{name:"Medium bronze",hex:"#ca906a"},{name:"Tan bronze",hex:"#bc7a51"},{name:"Peachgasm",hex:"#f58e7e"},{name:"Pinkgasm",hex:"#ed7d7e"}]},{category:"eyes",palette:[{name:"Super Black",hex:"#090909"},{name:"Pillow Talk",hex:"#dd8d8a"},{name:"Pillow Talk Dreams",hex:"#82362b"},{name:"The Sophisticate",hex:"#ba8973"},{name:"Copper Charge",hex:"#c26f59"}]},{category:"lips",palette:[{name:"Scarlet Spell",hex:"#8b2833"},{name:"Pillow Talk",hex:"#dc7b77"},{name:"Lost Cherry",hex:"#fd5d5f"},{name:"Love Liberty",hex:"#aa2937"},{name:"Gold",hex:"#dc7e53"}]}];const l=document.getElementById("productSection"),d=document.getElementById("category"),m=document.getElementById("stock"),p=document.getElementById("color"),g=document.getElementById("price"),h=document.getElementById("rating"),u=document.getElementById("name");let f,b,v=[],x=[],y=[];function w(e){const t=document.createElement("a");var a;t.className="product",(a=e.rating)>4?b="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F5star.png?alt=media&token=0e7dfd68-9a75-44a2-b477-f2cce7fc328e":a>3?b="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F4star.png?alt=media&token=f49f353d-a4c2-4bbb-b52f-bf7c3b8ad795":a>2?b="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F3star.png?alt=media&token=bfe458d0-3bd8-48b1-a5c8-f4bc64198184":a>1?b="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F2star.png?alt=media&token=b0ed27fc-5c7b-4c16-9a49-fbd26011c043":a>0&&(b="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F1star.png?alt=media&token=bcb5f492-8e45-4e5a-b739-502407478091"),t.setAttribute("href",`./product.html?id=${e.id}`);const o=e.images.length?e.images[0]:"https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image.png?w=640";var c;t.innerHTML=`\n        <img src="${o}" alt="${e.name}" class="product__img">\n        <div>\n            <h2 class="product__name">${e.name}</h2>\n            <h3 class="product__color">${e.color.name.toUpperCase()}</h3>\n            <div class="product__bottom">\n                <h3 class="product__price">${c=e.price,new Intl.NumberFormat("en-UK",{style:"currency",currency:"EUR",minimumFractionDigits:0}).format(c)}</h3>\n                <img src="${b}" class="product__rating">\n            </div>\n            <button class="product__bag">ADD TO BAG</button>\n        </div>`,l.appendChild(t);t.querySelector(".product__bag").addEventListener("click",(async t=>{t.preventDefault();const a=x.find((t=>t.id===e.id)),o={...e,counter:a?a.counter+1:1};if(a){const t=x.findIndex((t=>t.id===e.id));x[t]=o}else x.push(o);!async function(e){localStorage.setItem("bag",JSON.stringify(e))}(x),f&&await r.createFirebaseBag(n.db,f.uid,x)}))}function E(e){l.innerHTML="",e.forEach((e=>{w(e)}))}function L(){const e=d.value,t=m.value,a=g.value,o=h.value,n=u.value;y=""!==e?v.filter((t=>t.category===e)):v,"Stock"===t&&(y=v.filter((e=>e.stock>0))),"None"===t&&(y=v.filter((e=>e.stock<=0))),"up"==a&&(y=y.sort(((e,t)=>e.price-t.price))),"down"==a&&(y=y.sort(((e,t)=>t.price-e.price))),"up"==o&&(y=y.sort(((e,t)=>e.rating-t.rating))),"down"==o&&(y=y.sort(((e,t)=>t.rating-e.rating))),"down"==n&&y.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()))),"up"==n&&y.sort(((e,t)=>t.name.toLowerCase().localeCompare(e.name.toLowerCase()))),E(y)}d.addEventListener("change",(e=>{L(),function(){const e=d.value,{palette:t}=i.find((t=>t.category===e)),a=t.map((e=>`<option value="${e.hex}">${e.name}</option>`));p.innerHTML=a}()})),m.addEventListener("change",(e=>{L()})),p.addEventListener("change",(e=>{y=v.filter((e=>e.color.hex===p.value)),E(y)})),g.addEventListener("change",(e=>{L()})),h.addEventListener("change",(e=>{L()})),u.addEventListener("change",(e=>{L()})),c.onAuthStateChanged(n.auth,(async e=>{e?(f=e,x=await r.getFirebaseBag(n.db,f.uid)):x=function(){const e=localStorage.getItem("bag");return e?JSON.parse(e):[]}(),async function(){const e=await s.getAllProducts(n.db);l.innerHTML="",e.forEach((e=>{w(e)})),v=e}()}));
//# sourceMappingURL=shop.2f811a1f.js.map
