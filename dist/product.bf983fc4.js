var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequire0a97;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},e.parcelRequire0a97=o);var n=o("6QD2Y"),r=o("1tHc5"),s=o("5nbHs");var c=o("ba58U");const i=document.getElementById("productInfo"),d=document.getElementById("productAssets");let p,l=[];async function g(){const e=function(e){const t=window.location.search;return new URLSearchParams(t).get(e)}("id");!function(e){d.innerHTML=`\n        <div>\n        <img src="${e.images[0]}" class="product__main" id="mainImg">\n        </div>`,t=e.rating,void(t>4?stars="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F5star.png?alt=media&token=0e7dfd68-9a75-44a2-b477-f2cce7fc328e":t>3?stars="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F4star.png?alt=media&token=f49f353d-a4c2-4bbb-b52f-bf7c3b8ad795":t>2?stars="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F3star.png?alt=media&token=bfe458d0-3bd8-48b1-a5c8-f4bc64198184":t>1?stars="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F2star.png?alt=media&token=b0ed27fc-5c7b-4c16-9a49-fbd26011c043":t>0&&(stars="https://firebasestorage.googleapis.com/v0/b/web-charlotte-shop.appspot.com/o/images%2F1star.png?alt=media&token=bcb5f492-8e45-4e5a-b739-502407478091")),i.innerHTML=`\n        <h1 class="product__name">${e.name}</h1>\n        <h2 class="product__color">${e.color.name.toUpperCase()}</h2>\n        <h2 class="product__price">${function(e){return new Intl.NumberFormat("en-UK",{style:"currency",currency:"EUR",minimumFractionDigits:0}).format(e)}(e.price)}</h2>\n        <p class="product__description">${e.description}</p>\n        <img src="${stars}" class="product__rating">\n        <button class="product__bag">ADD TO BAG</button>`,e.images.length>1&&function(e){const t=document.createElement("div");t.className="product__gallery",e.forEach((e=>{t.innerHTML+=`<div><img src="${e}"></div>`})),d.appendChild(t);const a=document.getElementById("mainImg");document.querySelector(".product__gallery").addEventListener("click",(e=>{"IMG"===e.target.tagName&&a.setAttribute("src",e.target.currentSrc)}))}(e.images);var t;const a=document.querySelector(".product__bag");a.addEventListener("click",(async t=>{const a=l.find((t=>t.id===e.id)),o={...e,counter:a?a.counter+1:1};if(a){const e=l.findIndex((e=>e.id==e.id));l[e]=o}else l.push(o);!async function(e){localStorage.setItem("bag",JSON.stringify(e))}(l),p&&await c.createFirebaseBag(n.db,p.uid,l)}))}({...await s.getSingleProduct(n.db,e),id:e})}r.onAuthStateChanged(n.auth,(async e=>{e?(p=e,l=await c.getFirebaseBag(n.db,p.uid)):l=function(){const e=localStorage.getItem("bag");return e?JSON.parse(e):[]}(),g()}));
//# sourceMappingURL=product.bf983fc4.js.map
